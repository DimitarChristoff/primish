(function(e){"function"==typeof define&&define.amd?define("primish/primish",e):"undefined"!=typeof module&&module.exports?module.exports=e():this.primish=e()}).call(this,function(){var e=Object.hasOwnProperty,t=function(t,n){return e.call(t,n)},n=function(e,t,n){for(var r in e)if(t.call(n,e[r],r,e)===!1)break;return e};if(!{valueOf:0}.propertyIsEnumerable("valueOf")){var r="constructor,toString,valueOf,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString".split(","),i=Object.prototype;n=function(e,n,o){var s,u,f;for(s in e)if(n.call(o,e[s],s,e)===!1)return e;for(u=0;(s=r[u])&&(f=e[s],f===i[s]&&!t(e,s)||n.call(o,f,s,e)!==!1);u++);return e}}var o=Object.create||function(e){var t=function(){};return t.prototype=e,new t},s=Array.prototype.slice,u=function(){var e=Object.prototype.toString,t="[object Object]";return function(n){return e.call(n)===t&&null!=n}}(),f=Object.getOwnPropertyDescriptor,p=Object.defineProperty;try{p({},"~",{}),f({},"~")}catch(l){f=function(e,t){return{value:e[t]}},p=function(e,t,n){return e[t]=n.value,e}}var c=/^constructor|extend|define$/,a=function(e){if(t(e,"implement")){"function"==typeof e.implement&&(e.implement=[e.implement]);for(var r=0,i=e.implement.length;i>r;++r)this.implement(new e.implement[r]);delete e.implement}return n(e,function(t,n,r){n.match(c)||(u(t)&&(e[n]=m(t)),r={writable:!0,enumerable:0!==n.indexOf("_"),configurable:!0,value:t},this.define(n,r.enumerable?f(e,n)||r:r))},this),this},h=function(e){var n,r=this._parent||this.constructor.parent;if(this._parent=r.constructor.parent,!e||!t(r,e))throw new Error("You need to pass a valid super method to .parent","");return n=r[e].apply(this,s.call(arguments,1)),this._parent=r,n},m=function(e){var t,n=o(e);for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n},d=function v(e,t){var n,r=function(n){e[n]=u(t[n])?u(e[n])?v(e[n],m(t[n])):m(t[n]):t[n]};if(null==e||null==t)return e;for(n in t)t.hasOwnProperty(n)&&r(n);return e},y=function(e,n){"object"==typeof e&&(n=e,e=void 0);var r=n.extend,i=t(n,"constructor")?n.constructor:r?function(){return r.apply(this,arguments)}:function(){};if(delete n.constructor,u(n.options)&&(n.options=m(n.options)),r){var s=r.prototype,f=i.prototype=o(s);i.parent=s,f.constructor=i,u(n.options)&&u(s.options)&&(n.options=d(m(s.options),n.options)),delete n.extend}return n.parent=h,i.define=n.define||r&&r.define||function(e,t){return p(this.prototype,e,t),this},i.implement=a,e&&i.define("_id",{value:e,enumerable:!1}),i.implement(n)};return y.has=t,y.each=n,y.merge=d,y.clone=m,y.create=o,y.define=p,y.hide=function(e,t){return e[t]=e[t]||{},p(e,t,{enumerable:!1,value:e[t]}),e[t]},y}),function(e){"function"==typeof define&&define.amd?define("primish/options",["./primish"],e):"undefined"!=typeof module&&module.exports?module.exports=e(require("./primish")):this.options=e(this.primish)}.call(this,function(e){var t="function",n=function(e){return e.replace(/^on([A-Z])/,function(e,t){return t.toLowerCase()})};return e({setOptions:function(r){var i,o;if(this.options||(this.options={}),o=this.options=e.merge(e.clone(this.options),r),this.on&&this.off)for(i in o)if(o.hasOwnProperty(i)){if(typeof o[i]!==t||!/^on[A-Z]/.test(i))continue;this.on(n(i),o[i]),delete o[i]}return this}})}),function(e){"function"==typeof define&&define.amd?define("primish/emitter",["./primish"],e):"undefined"!=typeof module&&module.exports?module.exports=e(require("./primish")):this.emitter=e(this.primish)}.call(this,function(e){var t=Array.prototype.slice,n=0,r={once:function(e,t){var n=this,r=function(){t.apply(this,arguments),n.off(e,r)};return r}},i=e({on:function(t,i){t=t.split(/\s+/);var o,s,u,f,p,l=0,c=t.length,a=this._listeners||e.hide(this,"_listeners");e:for(;c>l;++l){u=t[l].split(":"),f=u.shift(),p=u.length&&u[0]in r,p||(f=t[l]),o=a[f]||(a[f]={});for(s in o)if(o[s]===i)continue e;o[(n++).toString(36)]=p?r[u[0]].call(this,f,i):i}return this},off:function(e,t){var n,r,i,o,s=this._listeners,u=0;if(s&&(n=s[e])){for(o in n)if(u++,null==r&&n[o]===t&&(r=o),r&&u>1)break;if(r&&(delete n[r],1===u)){delete s[e];for(i in s)return this;delete this._listeners}}return this},trigger:function(e){var n,r,i=this._listeners,o=t.call(arguments,1),s={};if(i&&(n=i[e])){for(r in n)s[r]=n[r];for(r in s)s[r].apply(this,o)}return this}});return i.definePseudo=function(e,t){r[e]=t},i});